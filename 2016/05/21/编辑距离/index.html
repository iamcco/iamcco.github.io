<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />
  

  <title>
    
      编辑距离
    
  </title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="数据结构,算法," />
  

  <meta name="description" content="编辑距离是什么？下面是摘自维基百科的说明：

莱文斯坦距离，又称Levenshtein距离，是编辑距离（edit distance）的一种。指两个字串之间，由一个转成另一个所需的最少编辑操作次数。许可的编辑操作包括将一个字符替换成另一个字符，插入一个字符，删除一个字符。
例如将kitten一字转成sitting：

sitten   (k→s)
sittin   (e→i)
sitting  (→">
<meta property="og:type" content="article">
<meta property="og:title" content="编辑距离">
<meta property="og:url" content="http://blog.yuuko.cn/2016/05/21/编辑距离/index.html">
<meta property="og:site_name" content="日常">
<meta property="og:description" content="编辑距离是什么？下面是摘自维基百科的说明：

莱文斯坦距离，又称Levenshtein距离，是编辑距离（edit distance）的一种。指两个字串之间，由一个转成另一个所需的最少编辑操作次数。许可的编辑操作包括将一个字符替换成另一个字符，插入一个字符，删除一个字符。
例如将kitten一字转成sitting：

sitten   (k→s)
sittin   (e→i)
sitting  (→">
<meta property="og:updated_time" content="2016-05-22T06:56:33.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="编辑距离">
<meta name="twitter:description" content="编辑距离是什么？下面是摘自维基百科的说明：

莱文斯坦距离，又称Levenshtein距离，是编辑距离（edit distance）的一种。指两个字串之间，由一个转成另一个所需的最少编辑操作次数。许可的编辑操作包括将一个字符替换成另一个字符，插入一个字符，删除一个字符。
例如将kitten一字转成sitting：

sitten   (k→s)
sittin   (e→i)
sitting  (→">

  

  
    <link rel="icon" href="/images/favicon.ico">
  

  <link rel="stylesheet" href="/css/styles.css">

</head>
<body class='index-bg'>


  <div class="main-container margin-at margin-t60 margin-b60">
    <article class="article">

    <!--m:markdown body-->
    <div class="markdown-body">
        <h1 id="编辑距离">编辑距离</h1>
        <p>编辑距离是什么？下面是摘自维基百科的说明：</p>
<blockquote>
<p>莱文斯坦距离，又称Levenshtein距离，是编辑距离（edit distance）的一种。指两个字串之间，由一个转成另一个所需的最少编辑操作次数。许可的编辑操作包括将一个字符替换成另一个字符，插入一个字符，删除一个字符。</p>
<p>例如将kitten一字转成sitting：</p>
<ol>
<li>sitten   (k→s)</li>
<li>sittin   (e→i)</li>
<li>sitting  (→g)</li>
</ol>
<p>俄罗斯科学家弗拉基米尔·莱文斯坦在1965年提出这个概念。</p>
</blockquote>
<h4 id="算法分析"><a href="#算法分析" class="headerlink" title="算法分析"></a><strong>算法分析</strong></h4><p>从一个字符串变到另一个字符串可以：</p>
<ol>
<li>删除一个字符</li>
<li>插入一个字符</li>
<li>替换一个字符</li>
</ol>
<p>从 hello 变到 aeliloo：</p>
<ol>
<li>h （substitute）替换为 a ：编辑距离+1</li>
<li>插入（insert） i         ：编辑距离+1</li>
<li>删除 （delete）o         ：编辑距离+1</li>
</ol>
<p>所以编辑距离为：3</p>
<h4 id="如何计算最小编辑距离"><a href="#如何计算最小编辑距离" class="headerlink" title="如何计算最小编辑距离"></a><strong>如何计算最小编辑距离</strong></h4><p>首先定义两个变量 i（目标字符串中字符的位置）和 j（原始字符串中字符的位置）</p>
<p>则编辑距离 s = D(i,j)</p>
<ol>
<li>i = 0, j = 0 –&gt; D(0, 0) = 0</li>
<li>i &gt; 0, j = 0 –&gt; D(i, 0) = i (插入i次)</li>
<li>j = 0, j &gt; 0 –&gt; D(0, j) = j (删除j次)</li>
<li>i &gt; 0, j &gt; 0 –&gt; D(i, j) = Min { edit(i-1, j) + 1, edit(i, j-1) + 1, edit(i-1, j-1) + f(i,j) }，其中如果 i == j，则 f(i,j) = 0, 否则 f(i, j) = 1</li>
</ol>
<p>最小编辑距离算法伪代码：</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function MinEditDistance(targetStr, sourceStr) &#123;</span><br><span class="line">    <span class="keyword">n</span> = <span class="built_in">length</span>(targetStr)</span><br><span class="line">    <span class="keyword">m</span> = <span class="built_in">length</span>(sourceStr)</span><br><span class="line">    <span class="keyword">matrix</span> <span class="keyword">D</span>[<span class="keyword">n</span>,<span class="keyword">m</span>]</span><br><span class="line">    <span class="keyword">D</span>[0,0] = 0;</span><br><span class="line">    <span class="keyword">D</span>[0,1] = 1......<span class="keyword">D</span>[0,<span class="keyword">m</span>] = <span class="keyword">m</span>;</span><br><span class="line">    <span class="keyword">D</span>[1,0] = 1......<span class="keyword">D</span>[<span class="keyword">n</span>,0] = <span class="keyword">n</span>;</span><br><span class="line">    <span class="keyword">for</span> i of <span class="keyword">range</span>: 1 to <span class="keyword">n</span></span><br><span class="line">        <span class="keyword">for</span> j of <span class="keyword">range</span>: 1 to <span class="built_in">m</span></span><br><span class="line">            <span class="keyword">D</span>[i, j] = <span class="built_in">min</span>(<span class="keyword">D</span>[i-1, j] + 1, <span class="keyword">D</span>[i, j-1] + 1, <span class="keyword">D</span>[i-1, j-1] + <span class="built_in">f</span>(i, j))</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">D</span>[<span class="keyword">n</span>,<span class="keyword">m</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>从 hello 变到 aeliloo：目标字符串 aeliloo，源字符串 hello</p>
<p>由：</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">D</span>[0,0] = 0;</span><br><span class="line"><span class="keyword">D</span>[0,1] = 1......<span class="keyword">D</span>[0,<span class="keyword">m</span>] = <span class="keyword">m</span>;</span><br><span class="line"><span class="keyword">D</span>[1,0] = 1......<span class="keyword">D</span>[<span class="keyword">n</span>,0] = <span class="keyword">n</span>;</span><br></pre></td></tr></table></figure>
<p>可得 dMatrix:</p>
<table>
<thead>
<tr>
<th>0</th>
<th>1,a</th>
<th>2,e</th>
<th>3,l</th>
<th>4,i</th>
<th>5,l</th>
<th>6,o</th>
<th>7,o</th>
</tr>
</thead>
<tbody>
<tr>
<td>1,h</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>2,e</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>3,l</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>4,l</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>5,o</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>由： dMatrix[i,j] = min(dMatrix[i-1, j] + 1, dMatrix[i, j-1] + 1, dMatrix[i-1, j-1] + f(i, j))</p>
<p>当： i = 1, j = 1</p>
<p>所以：dMatrix[1,1] = min(dMatrix[0, 1] + 1, dMatrix[1, 0] + 1, dMatrix[0, 0] + f(1, 1)) 由于 字符 <code>a</code> 不等于 <code>h</code> 所以 f(1,1) = 1</p>
<p>得：dMatrix[1,1] = 1;</p>
<table>
<thead>
<tr>
<th>0</th>
<th>1,a</th>
<th>2,e</th>
<th>3,l</th>
<th>4,i</th>
<th>5,l</th>
<th>6,o</th>
<th>7,o</th>
</tr>
</thead>
<tbody>
<tr>
<td>1,h</td>
<td>1</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>2,e</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>3,l</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>4,l</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>5,o</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>由此可以得到最终 dMatrix：</p>
<table>
<thead>
<tr>
<th>0</th>
<th>1,a</th>
<th>2,e</th>
<th>3,l</th>
<th>4,i</th>
<th>5,l</th>
<th>6,o</th>
<th>7,o</th>
</tr>
</thead>
<tbody>
<tr>
<td>1,h</td>
<td>1</td>
<td>2</td>
<td>3</td>
<td>4</td>
<td>5</td>
<td>6</td>
<td>7</td>
</tr>
<tr>
<td>2,e</td>
<td>2</td>
<td>1</td>
<td>2</td>
<td>3</td>
<td>4</td>
<td>5</td>
<td>6</td>
</tr>
<tr>
<td>3,l</td>
<td>3</td>
<td>2</td>
<td>1</td>
<td>2</td>
<td>3</td>
<td>4</td>
<td>5</td>
</tr>
<tr>
<td>4,l</td>
<td>4</td>
<td>3</td>
<td>2</td>
<td>2</td>
<td>2</td>
<td>3</td>
<td>4</td>
</tr>
<tr>
<td>5,o</td>
<td>5</td>
<td>4</td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>2</td>
<td>3</td>
</tr>
</tbody>
</table>
<p>最小编辑距离 s = dMatrix[7, 5] = 3</p>
<h4 id="JavaScript实现"><a href="#JavaScript实现" class="headerlink" title="JavaScript实现"></a><strong>JavaScript实现</strong></h4><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'use strict'</span><span class="comment">;</span></span><br><span class="line"></span><br><span class="line">function minEditDistance(target, source) &#123;</span><br><span class="line">    var tLen, sLen, dMatrix, i, <span class="keyword">j, </span>temp<span class="comment">;</span></span><br><span class="line">    tLen = target.length<span class="comment">;</span></span><br><span class="line">    sLen = source.length<span class="comment">;</span></span><br><span class="line">    dMatrix = []<span class="comment">;</span></span><br><span class="line">    for(i = <span class="number">0</span><span class="comment">; i &lt;= tLen; i++) &#123;</span></span><br><span class="line">        dMatrix.push([i])<span class="comment">;</span></span><br><span class="line">    &#125;</span><br><span class="line">    for(i = <span class="number">0</span><span class="comment">; i &lt;= sLen; i++) &#123;</span></span><br><span class="line">        dMatrix[<span class="number">0</span>][i] = i<span class="comment">;</span></span><br><span class="line">    &#125;</span><br><span class="line">    for(i = <span class="number">1</span><span class="comment">; i &lt;= tLen; i++) &#123;</span></span><br><span class="line">        for(<span class="keyword">j </span>= <span class="number">1</span><span class="comment">; j &lt;= sLen; j++) &#123;</span></span><br><span class="line">            temp = []<span class="comment">;</span></span><br><span class="line">            temp.push(dMatrix[i][<span class="keyword">j-1] </span>+ <span class="number">1</span>)<span class="comment">;</span></span><br><span class="line">            temp.push(dMatrix[i-1][<span class="keyword">j] </span>+ <span class="number">1</span>)<span class="comment">;</span></span><br><span class="line">            temp.push(dMatrix[i-1][<span class="keyword">j-1] </span>+ (target[i - <span class="number">1</span>] === source[<span class="keyword">j </span>- <span class="number">1</span>] ? <span class="number">0</span> : <span class="number">1</span>))<span class="comment">;</span></span><br><span class="line">            dMatrix[i][<span class="keyword">j] </span>= temp.sort()[<span class="number">0</span>]<span class="comment">;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return dMatrix[tLen][sLen]<span class="comment">;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="参考"><a href="#参考" class="headerlink" title="参考"></a><strong>参考</strong></h4><ol>
<li><a href="https://en.wikipedia.org/wiki/Edit_distance" target="_blank" rel="external">维基百科：Edit_distance</a></li>
</ol>

    </div>
    <!--m:markdown body-->

</article>

</div>




    <div class="main-container margin-at">
    <div class="comment-block">
        
            <div class="ds-thread" data-thread-key="2016/05/21/编辑距离/" data-title="编辑距离" data-url="http://blog.yuuko.cn/2016/05/21/编辑距离/">
                <script type="text/javascript">
                    var duoshuoQuery = {short_name:"yuukocn"};
                    (function() {
                        var ds = document.createElement('script');
                        ds.type = 'text/javascript';ds.async = true;
                        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
                        ds.charset = 'UTF-8';
                        (document.getElementsByTagName('head')[0] 
                            || document.getElementsByTagName('body')[0]).appendChild(ds);
                    })();
                </script>
            </div>
        
    </div>
</div>






    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?df895598ee93a4eedafb515b4186ab2e";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

</body>
</html>

